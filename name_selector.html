
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Random Name Selector</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      max-width: 700px;
      margin: auto;
      background-color: #f4f4f4;
    }
    textarea, input, select {
      width: 100%;
      margin-bottom: 10px;
      padding: 8px;
      font-size: 16px;
    }
    button {
      padding: 10px 15px;
      margin-right: 5px;
      font-size: 16px;
      
    }
    #result {
      margin-top: 20px;
      font-size: 24px;
      font-weight: bold;
      color: #333;
    }
    .box {
      margin-top: 20px;
      padding: 10px;
      background-color: #fff;
      border: 1px solid #ccc;
    }
    .box h3 {
      margin-top: 0;
    }
    .buttonrow {
      margin-bottom:15px;
    }
    textarea#nameInput {
    height: 9em;
}
  </style>
</head>
<body>
  <h1>Random Name Selector</h1>

  <label for="listName">List Name:</label>
  <input type="text" id="listName" placeholder="e.g. 1st period class">

  <label for="nameInput">Enter names (comma or newline separated):</label>
  <textarea id="nameInput" placeholder="e.g. Bart, Lisa, Maggie"></textarea>
<div class="buttonrow">
<button onclick="initializeNames()">Load Names into Queue</button>
</div>
<label for="savedLists">Saved Lists:</label>
  <select id="savedLists" onchange="handleListChange()">
    <option value="">Create a New List</option>
  </select>
  <div class="buttonrow">
<button onclick="saveList()">Save List</button>
<button onclick="deleteList()">Delete Selected List</button>
</div>

 <button onclick="pickRandomName()">Pick a Name</button>  
  <button onclick="resetSelections()">Reset Selections</button>
  <div id="result"></div>

  <div class="box">
    <h3>Queue</h3>
    <ul id="remainingList"></ul>
  </div>

  <div class="box">
    <h3>Selected Names</h3>
    <ul id="selectedList"></ul>
  </div>

  <script>
    let remainingNames = [];
    let selectedNames = [];

    function initializeNames() {
      const input = document.getElementById('nameInput').value;
      const names = input.split(/[\n,]+/).map(name => name.trim()).filter(name => name);
      remainingNames = [...names];
      selectedNames = [];
      updateLists();
      document.getElementById('result').textContent = "";
    }

    


function pickRandomName() {
  if (remainingNames.length === 0) {
    document.getElementById('result').textContent = "ðŸŽ‰ All names have been selected!";
    return;
  }
  const randomIndex = Math.floor(Math.random() * remainingNames.length);
  const selectedName = remainingNames.splice(randomIndex, 1)[0];
  selectedNames.push(selectedName);
  document.getElementById('result').textContent = `ðŸŽ‰ Selected: ${selectedName}`;
  updateLists();

  // Play bell chime
  playBellChime();
}




    function updateLists() {
      document.getElementById('remainingList').innerHTML = remainingNames.map(name => `<li>${name}</li>`).join('');
      document.getElementById('selectedList').innerHTML = selectedNames.map(name => `<li>${name}</li>`).join('');
    }

    function saveList() {
      const listName = document.getElementById('listName').value.trim();
      if (!listName) {
        alert("Please enter a list name.");
        return;
      }
      localStorage.setItem(`nameList_${listName}`, JSON.stringify(remainingNames));
      updateSavedLists();
      alert(`List "${listName}" saved.`);
    }

    function handleListChange() {
      const selected = document.getElementById('savedLists').value;
      const nameInput = document.getElementById('nameInput');
      const listNameInput = document.getElementById('listName');

      if (!selected) {
        // Create a new list
        remainingNames = [];
        selectedNames = [];
        nameInput.value = "";
        listNameInput.value = "";
        document.getElementById('result').textContent = "";
        updateLists();
        return;
      }

      // Load saved list
      const data = localStorage.getItem(`nameList_${selected}`);
      if (data) {
        remainingNames = JSON.parse(data);
        selectedNames = [];
        listNameInput.value = selected;
        nameInput.value = "";
        updateLists();
        document.getElementById('result').textContent = "";
      }
    }

function resetSelections() {
  remainingNames = remainingNames.concat(selectedNames);
  selectedNames = [];
  updateLists();
  document.getElementById('result').textContent = "";
}

    function deleteList() {
      const selected = document.getElementById('savedLists').value;
      if (!selected) return;
      localStorage.removeItem(`nameList_${selected}`);
      updateSavedLists();
      alert(`List "${selected}" deleted.`);
    }

    function updateSavedLists() {
      const select = document.getElementById('savedLists');
      select.innerHTML = `<option value="">Create a New List</option>`;
      for (let key in localStorage) {
        if (key.startsWith("nameList_")) {
          const name = key.replace("nameList_", "");
          const option = document.createElement("option");
          option.value = name;
          option.textContent = name;
          select.appendChild(option);
        }
      }
    }



function playBellChime() {
  const context = new (window.AudioContext || window.webkitAudioContext)();

  // Frequencies for a bell-like harmonic stack
  const frequencies = [660, 880, 1320]; // Base + harmonics

  frequencies.forEach((freq, index) => {
    const oscillator = context.createOscillator();
    oscillator.type = 'sine';
    oscillator.frequency.setValueAtTime(freq, context.currentTime);

    const gainNode = context.createGain();

    // Envelope: quick attack, slow decay
    const now = context.currentTime;
    gainNode.gain.setValueAtTime(0, now);
    gainNode.gain.linearRampToValueAtTime(0.3 / (index + 1), now + 0.05); // attack
    gainNode.gain.exponentialRampToValueAtTime(0.001, now + 1.2); // decay

    oscillator.connect(gainNode);
    gainNode.connect(context.destination);

    oscillator.start(now);
    oscillator.stop(now + 1.5);
  });
}

function initializeNames() {
  const input = document.getElementById('nameInput').value;
  const newNames = input.split(/[\n,]+/).map(name => name.trim()).filter(name => name);

  // Append new names to the existing remainingNames
  remainingNames = remainingNames.concat(newNames);

  // Clear the input box after loading
  document.getElementById('nameInput').value = "";

  updateLists();
  document.getElementById('result').textContent = "";
}


    window.onload = updateSavedLists;
  </script>
</body>
</html>
